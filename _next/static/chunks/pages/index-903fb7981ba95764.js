(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(85)}])},85:function(e,o,t){"use strict";t.r(o);var n=t(5893),l=t(7294),r=t(2729),i=t.n(r);let s=()=>{let[e,o]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]);console.log("userinput",e);let t=JSON.parse(JSON.stringify(e)),[r,s]=(0,l.useState)(0);JSON.parse(JSON.stringify(r));let[c,a]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),f=Array.from({length:9},()=>Array(9).fill(-1));console.log("board",f);let d=e.some(e=>e.some(e=>0!==e)),g=12,h=e.some((e,o)=>e.some((e,t)=>1===e&&1===c[o][t])),u=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],_=[];for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++)1===t[e][o]&&_.push([e,o]);let p=e=>{for(let o of e)if(1!==c[o[0]][o[1]])for(let e of u)void 0!==f[o[0]+e[0]]&&void 0!==f[o[1]+e[1]]&&-1===f[o[0]+e[0]][o[1]+e[1]]&&m([[o[0]+e[0],o[1]+e[1]]])},m=e=>{let o=[];for(let t of e)if(1!==c[t[0]][t[1]]){let e=0;for(let o of u)void 0!==c[t[0]+o[0]]&&void 0!==c[t[1]+o[1]]&&1===c[t[0]+o[0]][t[1]+o[1]]&&e++;f[t[0]][t[1]]=e,0===f[t[0]][t[1]]&&o.push(t)}0!==o.length&&p(o)};m(_);let x=(e,n)=>{if(100===e&&100===n){for(let e=0;e<c.length;e++)for(let o=0;o<c[e].length;o++)c[e][o]=0;for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++)t[e][o]=0;o(t)}},v=(e,o)=>{let t=0;for(let n=0;n<o.length;n++)for(let l=0;l<o[n].length;l++)o[l][n]===e&&t++;return t},N=(n,l,r)=>{n.preventDefault(),console.log("右クリック！",l,r),0===e[r][l]&&-1===f[r][l]?(t[r][l]=3,console.log("右3")):3===e[r][l]&&10===f[r][l]?t[r][l]=2:2===e[r][l]&&9===f[r][l]&&(t[r][l]=0),o(t),console.log("uinput",t)};for(let o=0;o<e.length;o++)for(let n=0;n<e[o].length;n++)0===t[o][n]&&10===f[o][n]||9===f[o][n]?f[o][n]=-1:3===t[o][n]?f[o][n]=10:2===t[o][n]&&(f[o][n]=9);let b=10;for(let o=0;o<e.length;o++)for(let n=0;n<e[o].length;n++)3===t[o][n]&&(b-=1);console.log("残りbomb数",b);let j={stop:0},k=!1;1===v(1,e)&&(k=!0),console.log("stop判定",j);let y=r;if(k){let e=setInterval(()=>{console.log(++y),1===j.stop&&(console.log("stop"),clearInterval(e))},1e3)}if(!0===h){for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++)1===t[e][o]&&c[e][o]&&(f[e][o]=12,console.log("赤ボム座標,xy順",o,e));for(let e=0;e<c.length;e++)for(let o=0;o<c[e].length;o++)1===c[e][o]&&(f[e][o]=11);g=14,j.stop=1}let S=v(9,f);if(10===(S+=v(10,f)+v(-1,f))){g=13,console.log("クリア");for(let o=0;o<e.length;o++)for(let t=0;t<e[o].length;t++)(-1===f[o][t]||9===f[o][t]||10===f[o][t]&&1!==e[o][t])&&(f[o][t]=10);j.stop=1}let w=(e,n)=>{if(console.log("クリック※xy順",e,n),t[n][e]=1,o(t),!1===d){let o=[];for(let o of u)void 0!==c[n+o[0]]&&void 0!==c[e+o[1]]&&(c[n+o[0]][e+o[1]]=20);for(c[n][e]=20;o.length<10;){let e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());0===c[t][e]&&(o.push([t,e]),c[t][e]=1)}for(let o of(console.log("bonbmap",c),u))void 0!==c[n+o[0]]&&void 0!==c[e+o[1]]&&(c[n+o[0]][e+o[1]]=0);c[n][e]=0,a(c)}};return(0,n.jsx)("div",{className:i().container,children:(0,n.jsxs)("div",{className:i().boardcontainer,children:[(0,n.jsx)("div",{className:i().nikobutton,onClick:()=>x(100,100),children:(0,n.jsx)("div",{className:i().picture,style:{backgroundPosition:-30*g+30}})}),(0,n.jsx)("div",{className:i().timecontainer,children:(0,n.jsx)("p",{children:y})}),(0,n.jsx)("div",{className:i().flagcountcontainer,children:(0,n.jsx)("p",{children:b})}),(0,n.jsx)("div",{className:i().board,children:f.map((e,o)=>e.map((e,t)=>(0,n.jsxs)("div",{className:i().cell,onClick:()=>w(t,o),onContextMenu:e=>N(e,t,o),style:{background:"#aeaaaa"},children:[-1!==e&&9!==e&&10!==e&&(0,n.jsx)("div",{className:i().picture,style:{backgroundPosition:-30*e+30}}),(-1===e||9===e||10===e)&&(0,n.jsx)("div",{className:i().stone,children:(9===e||10===e)&&(0,n.jsx)("div",{className:i().picture,style:{backgroundPosition:"".concat(-100*e+100,"%")}})},"".concat(t,"-").concat(o))]},"".concat(t,"-").concat(o))))})]})})};o.default=s},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe",boardcontainer:"index_boardcontainer__r_Tvd",nikobutton:"index_nikobutton__2z3Nb",timecontainer:"index_timecontainer__hr_2V",flagcountcontainer:"index_flagcountcontainer__LogH4",picture:"index_picture__3USzY",cell:"index_cell__3W8ZQ",stone:"index_stone__oeDmm"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);