(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(85)}])},85:function(e,o,t){"use strict";t.r(o);var n=t(5893),l=t(7294),r=t(2729),i=t.n(r);let c=()=>{let[e,o]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]);console.log("userinput",e);let t=JSON.parse(JSON.stringify(e)),[r,c]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),s=Array.from({length:9},()=>Array(9).fill(-1));console.log("board",s);let a=e.some(e=>e.some(e=>0!==e)),d=12,f=e.some((e,o)=>e.some((e,t)=>1===e&&1===r[o][t])),u=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],h=[];for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++)1===t[e][o]&&h.push([e,o]);let _=e=>{for(let o of e)if(1!==r[o[0]][o[1]])for(let e of u)void 0!==s[o[0]+e[0]]&&void 0!==s[o[1]+e[1]]&&-1===s[o[0]+e[0]][o[1]+e[1]]&&g([[o[0]+e[0],o[1]+e[1]]])},g=e=>{let o=[];for(let t of e)if(1!==r[t[0]][t[1]]){let e=0;for(let o of u)void 0!==r[t[0]+o[0]]&&void 0!==r[t[1]+o[1]]&&1===r[t[0]+o[0]][t[1]+o[1]]&&e++;s[t[0]][t[1]]=e,0===s[t[0]][t[1]]&&o.push(t)}0!==o.length&&_(o)};g(h);let m=(e,n)=>{if(100===e&&100===n){for(let e=0;e<r.length;e++)for(let o=0;o<r[e].length;o++)r[e][o]=0;for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++)t[e][o]=0;o(t)}},b=(e,o)=>{let t=0;for(let n=0;n<o.length;n++)for(let l=0;l<o[n].length;l++)o[l][n]===e&&t++;return t},x=b(3,e),v=(n,l,r)=>{n.preventDefault(),console.log("右クリック！",l,r),0===e[r][l]&&-1===s[r][l]&&x<10?(t[r][l]=3,console.log("右3")):3===e[r][l]&&10===s[r][l]?t[r][l]=2:2===e[r][l]&&9===s[r][l]&&(t[r][l]=0),o(t),console.log("uinput",t)};for(let o=0;o<e.length;o++)for(let n=0;n<e[o].length;n++)0===t[o][n]&&10===s[o][n]||9===s[o][n]?s[o][n]=-1:3===t[o][n]?s[o][n]=10:2===t[o][n]&&(s[o][n]=9);let p=10;for(let o=0;o<e.length;o++)for(let n=0;n<e[o].length;n++)3===t[o][n]&&1===r[o][n]&&(p-=1);if(console.log("残りbomb数",p),!0===f){for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++)1===t[e][o]&&r[e][o]&&(s[e][o]=12,console.log("赤ボム座標,xy順",o,e));for(let e=0;e<r.length;e++)for(let o=0;o<r[e].length;o++)1===r[e][o]&&(s[e][o]=11);d=14}let N=b(9,s);if(10===(N+=b(10,s)+b(-1,s))){d=13,console.log("クリア");for(let o=0;o<e.length;o++)for(let t=0;t<e[o].length;t++)(-1===s[o][t]||9===s[o][t]||10===s[o][t]&&1!==e[o][t])&&(s[o][t]=10)}let k=(e,n)=>{if(console.log("クリック※xy順",e,n),t[n][e]=1,o(t),!1===a){let o=[];for(let o of u)void 0!==r[n+o[0]]&&void 0!==r[e+o[1]]&&(r[n+o[0]][e+o[1]]=20);for(r[n][e]=20;o.length<10;){let e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());0===r[t][e]&&(o.push([t,e]),r[t][e]=1)}for(let o of(console.log("bonbmap",r),u))void 0!==r[n+o[0]]&&void 0!==r[e+o[1]]&&(r[n+o[0]][e+o[1]]=0);r[n][e]=0,c(r)}};return(0,n.jsx)("div",{className:i().container,children:(0,n.jsxs)("div",{className:i().boardcontainer,children:[(0,n.jsx)("div",{className:i().nikobutton,onClick:()=>m(100,100),children:(0,n.jsx)("div",{className:i().picture,style:{backgroundPosition:-30*d+30}})}),(0,n.jsx)("div",{className:i().timecontainer}),(0,n.jsx)("div",{className:i().bombcountcontainer,children:(0,n.jsx)("p",{children:p})}),(0,n.jsx)("div",{className:i().board,children:s.map((e,o)=>e.map((e,t)=>(0,n.jsxs)("div",{className:i().cell,onClick:()=>k(t,o),onContextMenu:e=>v(e,t,o),style:{background:"#aeaaaa"},children:[-1!==e&&9!==e&&10!==e&&(0,n.jsx)("div",{className:i().picture,style:{backgroundPosition:-30*e+30}}),(-1===e||9===e||10===e)&&(0,n.jsx)("div",{className:i().stone,children:(9===e||10===e)&&(0,n.jsx)("div",{className:i().picture,style:{backgroundPosition:"".concat(-100*e+100,"%")}})},"".concat(t,"-").concat(o))]},"".concat(t,"-").concat(o))))})]})})};o.default=c},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe",boardcontainer:"index_boardcontainer__r_Tvd",nikobutton:"index_nikobutton__2z3Nb",timecontainer:"index_timecontainer__hr_2V",bombcountcontainer:"index_bombcountcontainer__s7Qq6",picture:"index_picture__3USzY",cell:"index_cell__3W8ZQ",stone:"index_stone__oeDmm"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);